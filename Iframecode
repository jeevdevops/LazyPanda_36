<!-- Paste the whole block below into Grafana Text panel (Mode = HTML) -->
<iframe sandbox="allow-same-origin allow-scripts"
        style="width:100%;height:120px;border:0;overflow:hidden;"
        srcdoc='<!doctype html>
<meta charset="utf-8">
<style>
  html,body{margin:0;padding:8px;font-family:Arial,Helvetica,sans-serif;background:transparent}
  .wrap{display:flex;flex-direction:column;gap:10px}
  .row1{display:flex;gap:10px}
  .left{flex:4;padding:10px;border-radius:6px;background:#f6f6f6}
  .right{flex:1;display:flex;align-items:center;justify-content:center;padding:10px;border-radius:6px;background:#efefef}
  .label{font-size:0.85rem;color:#444;margin-bottom:4px;text-align:center}
  .count{font-weight:700;font-size:1.25rem;letter-spacing:0.5px}
  .row2{padding:10px;border-radius:6px;background:#fafafa;font-size:0.95rem}
</style>

<div class="wrap">
  <div class="row1">
    <div class="left">Main content — put KPIs or HTML here.</div>
    <div class="right">
      <div>
        <div class="label">Countdown</div>
        <div id="count" class="count">T−00:00:00:00</div>
      </div>
    </div>
  </div>
  <div class="row2">Row 2 — full width content</div>
</div>

<script>
(function(){
  // === Set your deadline here (ISO 8601). Example: "2025-12-31T00:00:00+10:00" ===
  var targetStr = "2025-12-31T00:00:00+10:00";

  var el = document.getElementById("count");
  var target = new Date(targetStr);
  if (isNaN(target.getTime())) {
    el.textContent = "Invalid deadline: " + targetStr;
    return;
  }

  function pad(n){ return String(Math.abs(Math.floor(n))).padStart(2, "0"); }

  function update(){
    var now = new Date();
    var diff = target - now;                       // ms (positive => future)
    var sign = diff >= 0 ? "T\u2212" : "T+";       // \u2212 = minus sign
    var ms = Math.abs(diff);

    var days = Math.floor(ms / 86400000); ms -= days * 86400000;
    var hrs  = Math.floor(ms / 3600000);   ms -= hrs  * 3600000;
    var mins = Math.floor(ms / 60000);     ms -= mins * 60000;
    var secs = Math.floor(ms / 1000);

    el.textContent = sign + pad(days) + ":" + pad(hrs) + ":" + pad(mins) + ":" + pad(secs);
  }

  update();
  setInterval(update, 1000);
})();
</script>'>
</iframe>
